<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Matemáticas — La Ecuación de la Recta</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <style>
    :root{
      --blanco:#ffffff; --gris-claro:#e8ecf7; --gris:#bfc7da; --negro:#0d0f12;
      --azul:#0057ff; --acento:#3aa0ff; --vidrio: rgba(255,255,255,.06);
      --borde: rgba(255,255,255,.10); --texto-suave:#cfd7ff;
      --ok:#76e39a; --err:#ff8b8b;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI','Helvetica Neue',system-ui,sans-serif}
    body{min-height:100vh;color:var(--blanco);background:radial-gradient(1200px 600px at 80% -10%, #0c2a80 0%, transparent 60%),radial-gradient(1000px 500px at -10% 110%, #0a5cff 0%, transparent 55%),linear-gradient(135deg,#0b0b0b,#171717);display:flex;flex-direction:column;align-items:center;padding:28px 18px 60px;}
    
    .topbar{width:min(1200px,100%);display:flex;align-items:center;justify-content:space-between;padding:14px 18px;border-radius:18px;background:var(--vidrio);border:1px solid var(--borde);backdrop-filter:blur(10px);box-shadow:0 8px 28px rgba(0,0,0,.35);margin-bottom:22px;}
    .logo{display:flex;gap:12px;align-items:center;}
    .logo-badge{width:38px;height:38px;border-radius:12px;background:linear-gradient(135deg, var(--azul), var(--acento));display:grid;place-items:center;font-weight:800;box-shadow:0 6px 20px rgba(0,87,255,.45);}
    .logo-text{font-weight:700;letter-spacing:.3px;color:#e9f0ff;}
    .nav{display:flex;gap:8px;flex-wrap:wrap;}
    .btn{appearance:none;border:none;cursor:pointer;text-decoration:none;padding:10px 14px;border-radius:12px;font-weight:700;letter-spacing:.2px;background:rgba(255,255,255,.08);color:#eaeaea;border:1px solid rgba(255,255,255,.12);backdrop-filter:blur(6px);transition: transform .15s ease;}
    .btn:hover{transform:translateY(-2px);}
    
    header.hero{width:min(1200px,100%);background:var(--vidrio);border:1px solid var(--borde);backdrop-filter: blur(10px);border-radius:22px;padding:28px 24px;box-shadow:0 12px 36px rgba(0,0,0,.38);position:relative;margin-bottom:28px;}
    .edicion-badge{position:absolute;top:16px;right:16px;font-size:.9rem;letter-spacing:.08em;text-transform:uppercase;color:#d1ddff;background:rgba(0,87,255,.18);border:1px solid rgba(0,87,255,.35);padding:8px 12px;border-radius:999px;}
    header.hero h1{font-size:clamp(1.9rem,4.8vw,2.8rem);color:#bcd4ff;text-shadow:0 8px 28px rgba(0,0,0,.6);}
    .sub{margin-top:8px;color:var(--texto-suave);}
    
    .contenedor{width:min(1200px,100%);display:grid;gap:22px;grid-template-columns:1.1fr .9fr;}
    @media(max-width:980px){.contenedor{grid-template-columns:1fr;}}
    .card{background:var(--vidrio);border:1px solid var(--borde);border-radius:20px;padding:22px;backdrop-filter:blur(8px);box-shadow:0 6px 18px rgba(0,0,0,.30);}
    .card h2, .card h3{color:#cfe3ff;margin-bottom:10px;}
    .card p, .card li{color:var(--gris-claro);}
    .card ul{padding-left:18px;line-height:1.6;}
    
    code{background: rgba(0,87,255,.18);padding: 2px 6px;border-radius: 6px;font-weight: 700;color:#bcd4ff;}
    
    .grafica-wrap{display:flex;flex-direction:column;gap:14px;}
    .panel-controles{display:flex;flex-wrap:wrap;gap:14px;align-items:center;background: rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.10);border-radius:14px;padding:12px;}
    .control{display:flex;align-items:center;gap:10px;color:var(--gris-claro);}
    .control input[type="range"]{width:140px;}
    .badge{display:inline-block;min-width:46px;text-align:center;padding:6px 10px;border-radius:10px;font-weight:700;background:linear-gradient(135deg, var(--azul), var(--acento));border:none;color:#fff;box-shadow:0 8px 20px rgba(0,87,255,.35);}
    canvas{width:100%;height:auto;background: transparent;border:1px solid rgba(255,255,255,.10);border-radius:14px;box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);}
    
    /* Estilos para mini-quiz */
    .quiz{ display:flex; flex-direction:column; gap:14px; }
    .q{ background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.10); border-radius:12px; padding:12px; }
    .q p{ margin-bottom:8px; color:#e9f1ff; }
    .q .opcion{ display:block; margin:6px 0; color:#e9f1ff; }
    .resultado{ font-weight:700; margin-top:6px; }
    .ok{ color:var(--ok) } .mal{ color:var(--err) }
    
    footer{width:min(1200px,100%);text-align:center;color:#bfbfbf;margin-top:32px;}
  </style>
</head>
<body>
  <!-- Barra superior -->
  <div class="topbar">
    <div class="logo"><div class="logo-badge">MS</div><div class="logo-text">Los Mil Saberes</div></div>
    <nav class="nav" aria-label="Navegación principal">
      <a class="btn" href="portada.html">Inicio</a>
      <a class="btn" href="index.html">Categorías</a>
    </nav>
  </div>

  <!-- Hero -->
  <header class="hero">
    <span class="edicion-badge">Matemáticas</span>
    <h1>Ecuación de la recta <code>y = mx + b</code></h1>
    <p class="sub">Fórmula que describe cómo cambia <strong>y</strong> cuando cambia <strong>x</strong> usando pendiente (<strong>m</strong>) y corte Y (<strong>b</strong>).</p>
  </header>

  <!-- Contenido -->
  <section class="contenedor">
    <!-- Teoría + ejemplo -->
    <article class="card">
      <h2>Partes de la ecuación</h2>
      <ul>
        <li><strong>m (pendiente)</strong>: indica inclinación. 
          <ul>
            <li>m &gt; 0 → recta sube</li>
            <li>m &lt; 0 → recta baja</li>
            <li>m = 0 → horizontal</li>
          </ul>
        </li>
        <li><strong>b (intercepto)</strong>: punto donde cruza eje Y (<code>x=0</code>).</li>
      </ul>
      <h3>Ejemplo</h3>
      <p>Pendiente <strong>m = 2</strong> → sube 2 unidades por cada paso a la derecha.<br>
      Intercepto <strong>b = 3</strong> → cruza el eje Y en (0,3).</p>

      <h2>Usos prácticos</h2>
      <ul>
        <li>Calcular precios con tarifa fija + costo por unidad.</li>
        <li>Hacer predicciones en gráficos o datos.</li>
      </ul>
      <h2>Propiedades importantes de la recta</h2>
      <ul>
        <li>Si la pendiente <strong>m</strong> es positiva, la recta sube hacia la derecha.</li>
        <li>Si <strong>m</strong> es negativa, la recta baja hacia la derecha.</li>
        <li>Si <strong>m = 0</strong>, la recta es horizontal y no depende de x.</li>
        <li>Rectas verticales no pueden representarse con y = mx + b (pendiente indefinida).</li>
      </ul>

      <h2>Variaciones de la pendiente</h2>
      <p>Al modificar la pendiente <strong>m</strong>:</p>
      <ul>
        <li><strong>m grande:</strong> recta más inclinada.</li>
        <li><strong>m pequeña:</strong> recta más plana.</li>
      </ul>

      <h2>Fórmulas útiles</h2>
      <ul>
        <li>Cálculo de pendiente entre dos puntos: <code>m = (y2 - y1) / (x2 - x1)</code></li>
        <li>Ecuación a partir de un punto y la pendiente: <code>y - y1 = m(x - x1)</code></li>
      </ul>

    </article>

    <!-- Gráfica interactiva + mini-quiz -->
    <aside class="card grafica-wrap">
      <h2>Gráfica interactiva</h2>
      <p class="sub">Ajusta <strong>pendiente</strong> y <strong>intercepto</strong> para ver cómo cambia la recta y sus cortes.</p>

      <div class="panel-controles">
        <div class="control">
          <label for="m">Pendiente (m):</label>
          <input type="range" id="m" min="-5" max="5" step="0.1" value="1">
          <span class="badge" id="mBadge">1.0</span>
        </div>
        <div class="control">
          <label for="b">Intercepto (b):</label>
          <input type="range" id="b" min="-10" max="10" step="1" value="0">
          <span class="badge" id="bBadge">0</span>
        </div>
        <button class="btn" id="btnReset" type="button">Restablecer</button>
      </div>

      <canvas id="grafica" width="720" height="460"></canvas>
      <p class="sub" id="ecuacionTexto">Ecuación: <code>y = 1x + 0</code> • Corte Y: <code>(0,0)</code> • Corte X: <code>(0,0)</code></p>

      <!-- Mini-quiz interactivo -->
      <h2>Mini‑quiz: Pregunta tipo ICFES</h2>
      <div class="quiz" id="quizRecta">
        <div class="q">
          <p><strong>Contexto:</strong> Un taxi cobra una tarifa fija de 5.000 pesos más 2.000 pesos por kilómetro.</p>
          <p><strong>Pregunta:</strong> ¿Cuál es la ecuación de la recta que representa el valor a pagar (<code>y</code>) en función de la distancia en km (<code>x</code>)?</p>
          <label class="opcion"><input type="radio" name="pRecta" value="a"> A) y = 5000x + 2000</label>
          <label class="opcion"><input type="radio" name="pRecta" value="b"> B) y = 2000x + 5000</label>
          <label class="opcion"><input type="radio" name="pRecta" value="c"> C) y = 2000x - 5000</label>
          <label class="opcion"><input type="radio" name="pRecta" value="d"> D) y = 5000x - 2000</label>
          <div class="resultado" id="rRecta"></div>
        </div>
        <div style="margin-top:10px;">
          <button class="btn" id="btnCheckRecta" type="button">Verificar</button>
          <button class="btn" id="btnResetRecta" type="button">Limpiar</button>
        </div>
      </div>
    </aside>
  </section>

  <footer>
    <p>&copy; 2025 Los Mil Saberes. Todos los derechos reservados.</p>
  </footer>

  <script>
    // Gráfica interactiva
    const canvas = document.getElementById('grafica');
    const ctx = canvas.getContext('2d');
    const mInput = document.getElementById('m');
    const bInput = document.getElementById('b');
    const mBadge = document.getElementById('mBadge');
    const bBadge = document.getElementById('bBadge');
    const ecuacionTexto = document.getElementById('ecuacionTexto');
    const btnReset = document.getElementById('btnReset');
    const UNIT = 20;

    function scaleForDPR(){
      const dpr = window.devicePixelRatio || 1;
      const w = canvas.clientWidth || canvas.width;
      const h = canvas.clientHeight || canvas.height;
      canvas.width = Math.round(w * dpr);
      canvas.height = Math.round(h * dpr);
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }

    function drawAxesGrid(cx, cy, width, height){
      ctx.clearRect(0,0,width,height);
      ctx.lineWidth=1; ctx.strokeStyle='rgba(160,180,220,0.10)';
      for(let x=0;x<=width;x+=UNIT){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,height);ctx.stroke();}
      for(let y=0;y<=height;y+=UNIT){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(width,y);ctx.stroke();}
      ctx.strokeStyle='rgba(187,206,255,0.7)'; ctx.lineWidth=2;
      ctx.beginPath(); ctx.moveTo(0,cy);ctx.lineTo(width,cy); ctx.moveTo(cx,0);ctx.lineTo(cx,height); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(width-12,cy-6);ctx.lineTo(width,cy);ctx.lineTo(width-12,cy+6);
      ctx.moveTo(cx-6,12);ctx.lineTo(cx,0);ctx.lineTo(cx+6,12); ctx.stroke();
      ctx.fillStyle='#cfe3ff'; ctx.font='12px Segoe UI, Helvetica, Arial, sans-serif'; ctx.fillText('0',cx+4,cy-4);
      ctx.fillStyle='rgba(220,230,255,0.85)';
      for(let i=-20;i<=20;i+=2){if(i!==0){const x=cx+i*UNIT; if(x>=0&&x<=width)ctx.fillText(String(i),x-6,cy+14);
      const y=cy-i*UNIT; if(y>=0&&y<=height)ctx.fillText(String(i),cx+6,y+4);} }
    }

    function drawLine(m,b,cx,cy,width,height){
      ctx.strokeStyle='rgba(220,230,255,0.95)'; ctx.lineWidth=2; ctx.beginPath();
      let first=true;
      for(let px=0;px<=width;px++){const xReal=(px-cx)/UNIT;const yReal=m*xReal+b;const py=cy-yReal*UNIT; if(first){ctx.moveTo(px,py);first=false;}else{ctx.lineTo(px,py);} }
      ctx.stroke();
      function drawPoint(x,y,color){ctx.fillStyle=color;ctx.beginPath();ctx.arc(x,y,4,0,Math.PI*2);ctx.fill();
        ctx.fillStyle='rgba(58,160,255,0.25)';ctx.beginPath();ctx.arc(x,y,10,0,Math.PI*2);ctx.fill();}
      function drawLabel(x,y,text){ctx.fillStyle='#e9f1ff';ctx.font='12px Segoe UI, Helvetica, Arial, sans-serif';ctx.fillText(text,x,y);}
      function round(v){return Math.abs(v)<1e-9?0:Math.round(v*100)/100;}
      const yInt={x:cx,y:cy-b*UNIT}; drawPoint(yInt.x,yInt.y,'#3aa0ff'); drawLabel(yInt.x+8,yInt.y-8,`(0, ${b})`);
      if(m!==0){const xCut=-b/m; const xInt={x:cx+xCut*UNIT,y:cy}; drawPoint(xInt.x,xInt.y,'#3aa0ff'); drawLabel(xInt.x+8,xInt.y-8,`(${round(xCut)},0)`);}
    }

    function updateEquationText(m,b){
      const bx=b>=0?` + ${b}`:` - ${Math.abs(b)}`;
      const eq=`y = ${m}x${b===0?'':bx}`; let corteX='(indefinido)'; if(m!==0)corteX=`(${-(b/m)},0)`;
      ecuacionTexto.innerHTML=`Ecuación: <code>${eq}</code> • Corte Y: <code>(0, ${b})</code> • Corte X: <code>${corteX}</code>`;
    }

    function drawAll(){
      scaleForDPR();
      const width=canvas.width/(window.devicePixelRatio||1);
      const height=canvas.height/(window.devicePixelRatio||1);
      const cx=Math.round(width/2), cy=Math.round(height/2);
      const m=parseFloat(mInput.value), b=parseFloat(bInput.value);
      mBadge.textContent=m.toFixed(1); bBadge.textContent=b.toString();
      drawAxesGrid(cx,cy,width,height);
      drawLine(m,b,cx,cy,width,height);
      updateEquationText(m,b);
    }

    mInput.addEventListener('input',drawAll);
    bInput.addEventListener('input',drawAll);
    btnReset.addEventListener('click',()=>{mInput.value='1'; bInput.value='0'; drawAll();});
    window.addEventListener('resize',drawAll);
    drawAll();

    // Mini-quiz ICFES
    const rRecta = document.getElementById('rRecta');
    const btnCheckRecta = document.getElementById('btnCheckRecta');
    const btnResetRecta = document.getElementById('btnResetRecta');

    function verificarRecta() {
      const sel = document.querySelector('input[name="pRecta"]:checked');
      if (!sel) { rRecta.textContent = 'Selecciona una opción.'; rRecta.className = 'resultado'; }
      else if (sel.value === 'b') { rRecta.textContent = '¡Correcto! La pendiente es 2000 y el intercepto es 5000.'; rRecta.className = 'resultado ok'; }
      else { rRecta.textContent = 'Incorrecto. La respuesta correcta es B: y = 2000x + 5000.'; rRecta.className = 'resultado mal'; }
    }
    function limpiarRecta() {
      document.querySelectorAll('input[name="pRecta"]').forEach(r => r.checked = false);
      rRecta.textContent = '';
      rRecta.className = 'resultado';
    }
    btnCheckRecta.addEventListener('click', verificarRecta);
    btnResetRecta.addEventListener('click', limpiarRecta);
  </script>
</body>
</html>
