<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Matemáticas — Razones Trigonométricas Interactivas</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <style>
    :root{
      --blanco:#ffffff;
      --gris-claro:#e8ecf7;
      --gris:#bfc7da;
      --negro:#0d0f12;
      --azul:#0057ff;
      --acento:#3aa0ff;
      --vidrio: rgba(255,255,255,.06);
      --borde: rgba(255,255,255,.10);
      --texto-suave:#cfd7ff;
      --grid:#3a4060;
      --ok:#76e39a;
      --warn:#ffc06b;
      --err:#ff8b8b;
    }

    *{ box-sizing:border-box; margin:0; padding:0; font-family:'Segoe UI','Helvetica Neue',system-ui,sans-serif }

    body{
      min-height:100vh; color:var(--blanco);
      background:
        radial-gradient(1200px 600px at 80% -10%, #0c2a80 0%, transparent 60%),
        radial-gradient(1000px 500px at -10% 110%, #0a5cff 0%, transparent 55%),
        linear-gradient(135deg,#0b0b0b,#171717);
      display:flex; flex-direction:column; align-items:center;
      padding:28px 18px 60px;
    }

    /* Barra superior */
    .topbar{
      width:min(1200px, 100%);
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 18px; border-radius:18px;
      background:var(--vidrio);
      border:1px solid var(--borde);
      backdrop-filter: blur(10px);
      box-shadow:0 8px 28px rgba(0,0,0,.35);
      margin-bottom:22px;
    }
    .logo{ display:flex; gap:12px; align-items:center; }
    .logo-badge{
      width:38px; height:38px; border-radius:12px;
      background:linear-gradient(135deg, var(--azul), var(--acento));
      display:grid; place-items:center; font-weight:800;
      box-shadow:0 6px 20px rgba(0,87,255,.45);
    }
    .logo-text{ font-weight:700; letter-spacing:.3px; color:#e9f0ff }

    .nav{ display:flex; gap:8px; flex-wrap:wrap; }
    .btn{
      appearance:none; border:none; cursor:pointer; text-decoration:none;
      padding:10px 14px; border-radius:12px; font-weight:700; letter-spacing:.2px;
      background:rgba(255,255,255,.08); color:#eaeaea; border:1px solid rgba(255,255,255,.12);
      backdrop-filter:blur(6px);
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
    }
    .btn:hover{ transform:translateY(-2px) }

    /* Hero */
    header.hero{
      width:min(1200px, 100%);
      background:var(--vidrio);
      border:1px solid var(--borde);
      backdrop-filter: blur(10px);
      border-radius:22px;
      padding:28px 24px;
      box-shadow:0 12px 36px rgba(0,0,0,.38);
      position:relative;
      overflow:hidden;
      margin-bottom:28px;
    }
    .edicion-badge{
      position:absolute; top:16px; right:16px;
      font-size:.9rem; letter-spacing:.08em; text-transform:uppercase; color:#d1ddff;
      background:rgba(0,87,255,.18); border:1px solid rgba(0,87,255,.35);
      padding:8px 12px; border-radius:999px;
    }
    header.hero h1{
      font-size: clamp(1.9rem, 4.8vw, 2.8rem);
      color:#bcd4ff; text-shadow:0 8px 28px rgba(0,0,0,.6);
    }
    .sub{
      margin-top:8px; color:var(--texto-suave);
    }

    /* Layout principal */
    .contenedor{
      width:min(1200px, 100%);
      display:grid; gap:22px;
      grid-template-columns: 1.15fr .85fr;
    }
    @media (max-width: 980px){
      .contenedor{ grid-template-columns: 1fr; }
    }

    .card{
      background:var(--vidrio);
      border:1px solid var(--borde);
      border-radius:20px;
      padding:22px;
      backdrop-filter: blur(8px);
      box-shadow:0 6px 18px rgba(0,0,0,.30);
    }
    .card h2, .card h3{ color:#cfe3ff; margin-bottom:10px }
    .card p, .card li{ color:var(--gris-claro) }
    .card ul{ padding-left:18px; line-height:1.6 }

    .infobox{
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      border-left:4px solid var(--acento);
      border-radius:12px; padding:14px; color:#e9f1ff;
      margin-top: 18px;
    }

    /* Interactivos */
    .quiz{ display:flex; flex-direction:column; gap:14px }
    .q{
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      border-radius:12px; padding:12px;
    }
    .q p{ margin-bottom:8px; color:#e9f1ff }
    .q .opcion{ display:block; margin:6px 0; color:#e9f1ff }
    .resultado{ font-weight:700; margin-top:6px }
    .ok{ color:var(--ok) } .mal{ color:var(--err) }
    .nota{ color:#ffdca8 }

    footer{
      width:min(1200px, 100%);
      text-align:center; color:#bfbfbf; margin-top:32px;
    }

    /* Foco accesible */
    .btn:focus, a:focus, input:focus{ outline:2px solid #9fc0ff; outline-offset:2px; }

    /* Interacción trigonometría */
    .interactive-trig {
      margin-top: 20px;
      text-align: center;
    }
    .slider-container {
      margin: 18px 0;
    }
    .svg-triangle {
      max-width: 350px;
      width: 100%;
      height: auto;
      margin: 0 auto 18px auto;
      display: block;
    }
    .ratios {
      font-size: 1.1rem;
      color: var(--texto-suave);
      display: flex;
      justify-content: space-around;
      margin-top: 14px;
      flex-wrap: wrap;
      gap: 12px;
    }
    .ratios div {
      background: rgba(255,255,255,.1);
      border-radius: 12px;
      padding: 12px 16px;
      box-shadow: 0 2px 8px rgba(0,87,255,.3);
      flex: 1 1 30%;
      min-width: 120px;
      user-select:none;
    }
    /* Etiquetas en SVG */
    .label-text {
      fill: var(--blanco);
      font-weight: 700;
      font-size: 16px;
      user-select:none;
      pointer-events:none;
      text-shadow: 0 0 8px rgba(0, 87, 255, 0.8);
    }
    .arrow-line {
      stroke: var(--acento);
      stroke-width: 2;
      marker-end: url(#arrowhead);
    }
  </style>
</head>
<body>
  <!-- Barra superior -->
  <div class="topbar">
    <div class="logo">
      <div class="logo-badge">MS</div>
      <div class="logo-text">Los Mil Saberes</div>
    </div>
    <nav class="nav" aria-label="Navegación principal">
      <a class="btn" href="portada.html">Inicio</a>
      <a class="btn" href="index.html">Categorías</a>
    </nav>
  </div>

  <!-- Hero -->
  <header class="hero">
    <span class="edicion-badge">Matemáticas</span>
    <h1>Razones Trigonométricas</h1>
    <p class="sub">Visualiza y comprende las relaciones trigonométricas con un triángulo rectángulo interactivo.</p>
  </header>

  <!-- Contenido -->
  <section class="contenedor">
    <!-- Columna 1: teoría e interactivo -->
    <article class="card" aria-label="Contenido principal sobre razones trigonométricas">
      <h2>Razones trigonométricas básicas</h2>
      <p>
        Las razones trigonométricas relacionan los lados de un triángulo rectángulo en función del ángulo θ. Las tres principales son:
      </p>
      <ul>
        <li><strong>Seno (sen θ):</strong> es la razón entre el cateto opuesto y la hipotenusa. Indica qué tan "alto" es el ángulo.</li>
        <li><strong>Coseno (cos θ):</strong> es la razón entre el cateto adyacente y la hipotenusa. Muestra qué tan "ancho" es el ángulo.</li>
        <li><strong>Tangente (tan θ):</strong> es la razón entre el cateto opuesto y el cateto adyacente. Representa la pendiente o inclinación del ángulo.</li>
      </ul>

      <div class="interactive-trig" aria-label="Interacción razones trigonométricas">
        <label for="angleRange">Ajusta el ángulo θ: <span id="angleValue">45</span>°</label>
        <div class="slider-container">
          <input type="range" min="1" max="89" value="45" id="angleRange" aria-valuemin="1" aria-valuemax="89" aria-valuenow="45" />
        </div>

        <svg class="svg-triangle" viewBox="0 0 300 250" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="title desc" aria-describedby="desc">
          <title>Triángulo rectángulo interactivo</title>
          <desc>Triángulo con lados y ángulo θ que se actualizan con el control deslizante.</desc>
          <defs>
            <marker id="arrowhead" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
              <path d="M0,0 L8,4 L0,8 L2,4 z" fill="#3aa0ff" />
            </marker>
          </defs>

          <!-- Triángulo -->
          <polygon points="50,200 250,200 50,50" fill="rgba(0,87,255,0.15)" stroke="var(--acento)" stroke-width="3" />

          <!-- Hipotenusa -->
          <line id="hipotenusa" x1="50" y1="200" x2="250" y2="50" stroke="var(--azul)" stroke-width="4" />
          <!-- Cateto adyacente -->
          <line id="cateto-ad" x1="50" y1="200" x2="250" y2="200" stroke="var(--acento)" stroke-width="4" marker-end="url(#arrowhead)" />
          <!-- Cateto opuesto -->
          <line id="cateto-op" x1="250" y1="200" x2="250" y2="50" stroke="var(--acento)" stroke-width="4" marker-end="url(#arrowhead)" />

          <!-- Ángulo θ (arco) -->
          <path id="angle-arc" fill="none" stroke="#00ffff" stroke-width="5" />

          <!-- Etiqueta ángulo θ -->
          <text id="angle-text" class="label-text" x="75" y="180">θ</text>

          <!-- Etiquetas lados -->
          <text id="label-op" class="label-text" x="255" y="130" font-size="14">Cateto opuesto</text>
          <text id="label-ad" class="label-text" x="150" y="215" text-anchor="middle" font-size="14">Cateto adyacente</text>
          <text id="label-hip" class="label-text" x="140" y="110" text-anchor="middle" font-size="14">Hipotenusa</text>
        </svg>

        <div class="ratios" aria-live="polite" aria-atomic="true" aria-relevant="additions">
          <div>
            <strong>sen θ</strong><br>
            <span id="senVal">0.71</span><br>
            <small>Ejemplo: si hipotenusa = 10, cateto opuesto ≈ <span id="opNum">7.07</span></small>
          </div>
          <div>
            <strong>cos θ</strong><br>
            <span id="cosVal">0.71</span><br>
            <small>Ejemplo: si hipotenusa = 10, cateto adyacente ≈ <span id="adNum">7.07</span></small>
          </div>
          <div>
            <strong>tan θ</strong><br>
            <span id="tanVal">1.00</span><br>
            <small>Ejemplo: si cateto adyacente = 7, cateto opuesto ≈ <span id="tanNum">7</span></small>
          </div>
        </div>
      </div>

      <div class="infobox" aria-label="Información adicional">
        <h3>¿Por qué son importantes estas razones?</h3>
        <p>
          Las razones trigonométricas son la base para resolver triángulos, calcular alturas, distancias inaccesibles y modelar fenómenos periódicos como ondas y vibraciones.
        </p>
        <p>
          Además, forman la base para funciones trigonométricas en cálculo, física, ingeniería y muchas ciencias aplicadas.
        </p>
      </div>
    </article>

    <!-- Columna 2: mini-quiz -->
    <aside class="card" aria-label="Mini cuestionario sobre razones trigonométricas">
      <h2>Mini‑quiz</h2>
      <div class="quiz" id="quiz">
        <div class="q">
          <p><strong>Contexto:</strong> El coseno es una razón trigonométrica que relaciona lados específicos de un triángulo rectángulo.</p>
          <p><strong>Pregunta:</strong> ¿Cuál es la definición correcta del coseno en un triángulo rectángulo?</p>
          <label class="opcion"><input type="radio" name="p1" value="a"> A) Cateto opuesto sobre hipotenusa.</label>
          <label class="opcion"><input type="radio" name="p1" value="b"> B) Cateto adyacente sobre hipotenusa.</label>
          <label class="opcion"><input type="radio" name="p1" value="c"> C) Hipotenusa sobre cateto opuesto.</label>
          <label class="opcion"><input type="radio" name="p1" value="d"> D) Cateto opuesto sobre cateto adyacente.</label>
          <div class="resultado" id="r1" role="alert" aria-live="assertive"></div>
        </div>
        <div style="margin-top:10px;">
          <button class="btn" id="btnCheck" type="button">Verificar</button>
          <button class="btn" id="btnReset" type="button">Limpiar</button>
        </div>
      </div>
    </aside>
  </section>

  <!-- Pie de página -->
  <footer>
    <p>&copy; 2025 Los Mil Saberes. Todos los derechos reservados.</p>
  </footer>

  <script>
    const angleRange = document.getElementById('angleRange');
    const angleValue = document.getElementById('angleValue');
    const hipotenusa = document.getElementById('hipotenusa');
    const catetoAd = document.getElementById('cateto-ad');
    const catetoOp = document.getElementById('cateto-op');
    const angleArc = document.getElementById('angle-arc');
    const angleText = document.getElementById('angle-text');
    const labelOp = document.getElementById('label-op');
    const labelAd = document.getElementById('label-ad');
    const labelHip = document.getElementById('label-hip');

    const senVal = document.getElementById('senVal');
    const cosVal = document.getElementById('cosVal');
    const tanVal = document.getElementById('tanVal');

    const opNum = document.getElementById('opNum');
    const adNum = document.getElementById('adNum');
    const tanNum = document.getElementById('tanNum');

    function actualizarTriangulo() {
      const angleDeg = +angleRange.value;
      angleValue.textContent = angleDeg;

      const angleRad = angleDeg * Math.PI / 180;

      // Coordenadas base
      const baseX = 50;
      const baseY = 200;

      // Hipotenusa fija: distancia entre (50,200) y (250,50) original, vamos a ajustar para que sea constante = 212.13
      const hip = 212.13;

      // Catetos calculados según ángulo
      const adyacente = hip * Math.cos(angleRad);
      const opuesto = hip * Math.sin(angleRad);

      // Actualizar líneas
      hipotenusa.setAttribute('x1', baseX);
      hipotenusa.setAttribute('y1', baseY);
      hipotenusa.setAttribute('x2', baseX + adyacente);
      hipotenusa.setAttribute('y2', baseY - opuesto);

      catetoAd.setAttribute('x1', baseX);
      catetoAd.setAttribute('y1', baseY);
      catetoAd.setAttribute('x2', baseX + adyacente);
      catetoAd.setAttribute('y2', baseY);

      catetoOp.setAttribute('x1', baseX + adyacente);
      catetoOp.setAttribute('y1', baseY);
      catetoOp.setAttribute('x2', baseX + adyacente);
      catetoOp.setAttribute('y2', baseY - opuesto);

      // Arco ángulo (arco circular de 40 px de radio para mejor visibilidad)
      const arcRadius = 40;
      const startX = baseX;
      const startY = baseY;
      const endX = baseX + arcRadius * Math.cos(angleRad);
      const endY = baseY - arcRadius * Math.sin(angleRad);

      const largeArcFlag = 0;
      const sweepFlag = 1;

      const d = `M${startX},${startY} A${arcRadius},${arcRadius} 0 ${largeArcFlag} ${sweepFlag} ${endX},${endY}`;
      angleArc.setAttribute('d', d);

      // Posicionar texto θ cerca del arco
      angleText.setAttribute('x', baseX + arcRadius * 0.7);
      angleText.setAttribute('y', baseY - arcRadius * 0.3);

      // Posicionar etiquetas lados
      labelOp.setAttribute('x', baseX + adyacente + 10);
      labelOp.setAttribute('y', baseY - opuesto / 2 + 6);

      labelAd.setAttribute('x', baseX + adyacente / 2);
      labelAd.setAttribute('y', baseY + 20);

      labelHip.setAttribute('x', baseX + adyacente / 2 + 20);
      labelHip.setAttribute('y', baseY - opuesto / 2 - 10);

      // Actualizar valores numéricos con 3 decimales
      senVal.textContent = Math.sin(angleRad).toFixed(3);
      cosVal.textContent = Math.cos(angleRad).toFixed(3);
      tanVal.textContent = Math.tan(angleRad).toFixed(3);

      // Ejemplos numéricos con hipotenusa = 10 para sen y cos, cateto adyacente = 7 para tan
      const hipVal = 10;
      const adyacenteNum = (hipVal * Math.cos(angleRad)).toFixed(2);
      const opuestoNum = (hipVal * Math.sin(angleRad)).toFixed(2);
      const tanNumCalc = (Math.tan(angleRad) * 7).toFixed(2);

      opNum.textContent = opuestoNum;
      adNum.textContent = adyacenteNum;
      tanNum.textContent = tanNumCalc;
    }

    angleRange.addEventListener('input', actualizarTriangulo);
    actualizarTriangulo();

    // Quiz
    const r1 = document.getElementById('r1');
    const btnCheck = document.getElementById('btnCheck');
    const btnReset = document.getElementById('btnReset');

    function verificar() {
      const p1Sel = document.querySelector('input[name="p1"]:checked');
      if (!p1Sel) {
        r1.textContent = 'Selecciona una opción.';
        r1.className = 'resultado';
      } else if (p1Sel.value === 'b') {
        r1.textContent = '¡Correcto! El coseno es la razón entre el cateto adyacente y la hipotenusa.';
        r1.className = 'resultado ok';
      } else {
        r1.textContent = 'Incorrecto. Revisa la definición del coseno en un triángulo rectángulo.';
        r1.className = 'resultado mal';
      }
    }

    function limpiar() {
      document.querySelectorAll('input[name="p1"]').forEach(r => r.checked = false);
      r1.textContent = '';
      r1.className = 'resultado';
    }

    btnCheck.addEventListener('click', verificar);
    btnReset.addEventListener('click', limpiar);
  </script>
</body>
</html>
